<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>搜索引擎技术 | Jici&#39;s Blog</title>
  <meta name="author" content="Jici">
  
  <meta name="description" content="搜索引擎的基本术语查询词（query）">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="搜索引擎技术"/>
  <meta property="og:site_name" content="Jici&#39;s Blog"/>

  
    <meta property="og:image" content=""/>
  

  
  
    <link href="/favicon-16x16.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-70812759-1', 'auto');
  ga('send', 'pageview');
</script>



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?cb5448498d7169c668b07c2b255d62c1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


<!-- hexo injector head_end start --><script> let HEXO_MMEDIA_DATA = { js: [], css: [], aplayerData: [], metingData: [], artPlayerData: [], dplayerData: []}; </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">Jici&#39;s Blog</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class=""></i>所有文章
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class=""></i>关于我
			</a>
		  </li>
		  
		  <li>
			<a href="/record" title="Record all kinds of completed target machines">
			  <i class=""></i>记录榜
			</a>
		  </li>
		  
		  <li>
			<a href="/plan" title="Record what needs to be done and what is worth doing">
			  <i class=""></i>计划清单
			</a>
		  </li>
		  
		  <li>
			<a href="/friendlinks" title="my friends">
			  <i class=""></i>友情链接
			</a>
		  </li>
		  
		  <li>
			<a href="/pictureGallery" title="Record some exquisite pictures">
			  <i class=""></i>画廊
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 

  
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@2.7.8/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>



	
		<div class="page-header">
			<h1> 搜索引擎技术</h1>
		</div>
	



<div class="row post">
	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/小红书搜索引擎技术.png" alt="小红书搜索引擎技术"></p>
<h1 id="搜索引擎的基本术语"><a href="#搜索引擎的基本术语" class="headerlink" title="搜索引擎的基本术语"></a>搜索引擎的基本术语</h1><h2 id="查询词（query）"><a href="#查询词（query）" class="headerlink" title="查询词（query）"></a>查询词（query）</h2><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031151326282.png" alt="image-20241031151326282"></p>
<h2 id="查询建议（SUG）"><a href="#查询建议（SUG）" class="headerlink" title="查询建议（SUG）"></a>查询建议（SUG）</h2><blockquote>
<p>SUG的作用是让搜索引擎用起来更方便</p>
</blockquote>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031151400590.png" alt="image-20241031151400590"></p>
<h2 id="搜索结果页"><a href="#搜索结果页" class="headerlink" title="搜索结果页"></a>搜索结果页</h2><blockquote>
<p>通常把搜索结果称为文档，这些文档可以是网页链接、视频等</p>
</blockquote>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031151722206.png" alt="image-20241031151722206"></p>
<h2 id="标签-筛选项"><a href="#标签-筛选项" class="headerlink" title="标签/筛选项"></a>标签/筛选项</h2><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031151839701.png" alt="image-20241031151839701"></p>
<h2 id="文档曝光"><a href="#文档曝光" class="headerlink" title="文档曝光"></a>文档曝光</h2><blockquote>
<p>文档曝光主要是产品形态的区别，并不能代表后台的搜索引擎算法和工程架构</p>
</blockquote>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031151914946.png" alt="image-20241031151914946"></p>
<p>再解释一下曝光，即只要用户在搜索结果页上看到文档，就算曝光。</p>
<h2 id="点击率"><a href="#点击率" class="headerlink" title="点击率"></a>点击率</h2><blockquote>
<p>搜索引擎一般考虑两类点击率：文档点击率、查询词点击率</p>
</blockquote>
<h3 id="文档点击率"><a href="#文档点击率" class="headerlink" title="文档点击率"></a>文档点击率</h3><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031152256714.png" alt="image-20241031152256714"></p>
<h3 id="查询词点击率（又称有点比）"><a href="#查询词点击率（又称有点比）" class="headerlink" title="查询词点击率（又称有点比）"></a>查询词点击率（又称<code>有点比</code>）</h3><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031152417803.png" alt="image-20241031152417803"></p>
<h3 id="对比"><a href="#对比" class="headerlink" title="对比"></a>对比</h3><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031152734128.png" alt="image-20241031152734128"></p>
<p>文档点击率、有点比、首屏有点比这三种指标的关联性很强，一个指标提升通常来说其他两个指标也会提升，但并不是绝对的。改进排序策略通常会同时提升三种指标，改进召回策略可以提升文档点击率和有点比（但很难提示首屏有点比，因为首屏的几篇文档主要由排序决定，召回起到的作用很小）</p>
<h2 id="垂直搜索（垂搜"><a href="#垂直搜索（垂搜" class="headerlink" title="垂直搜索（垂搜)"></a>垂直搜索（垂搜)</h2><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031152822344.png" alt="image-20241031152822344"></p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031152926062.png" alt="image-20241031152926062"></p>
<h2 id="通用搜索（通搜）"><a href="#通用搜索（通搜）" class="headerlink" title="通用搜索（通搜）"></a>通用搜索（通搜）</h2><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031153106124.png" alt="image-20241031153106124"></p>
<blockquote>
<p>值得关注的是抖音、快手、小红书这样的平台，使用都是通用搜索</p>
</blockquote>
<h2 id="AB测试（A-B测试）"><a href="#AB测试（A-B测试）" class="headerlink" title="AB测试（A/B测试）"></a>AB测试（A/B测试）</h2><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031154131956.png" alt="image-20241031154131956"></p>
<h2 id="实验推全"><a href="#实验推全" class="headerlink" title="实验推全"></a>实验推全</h2><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101092120153.png" alt="image-20241101092120153"></p>
<h2 id="用户满意度"><a href="#用户满意度" class="headerlink" title="用户满意度"></a>用户满意度</h2><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031154014854.png" alt="image-20241031154014854"></p>
<h2 id="holdout"><a href="#holdout" class="headerlink" title="holdout"></a>holdout</h2><p>指的是留出法（Holdout Method），这是==一种简单的模型评估方法==。具体来说，留出法是将数据集随机划分为两个互斥的子集：训练集和测试集。==训练集用于模型的训练，而测试集用于评估模型的泛化能力==。这种方法的基本思想是用训练集来拟合模型，然后用测试集来评估模型的性能</p>
<h2 id="工业界"><a href="#工业界" class="headerlink" title="工业界"></a>工业界</h2><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101113223145.png" alt="image-20241101113223145"></p>
<blockquote>
<p>这个概念一般和学术界对应，也就是我们常说的：实战环境、实际场景、实际工作场景等</p>
</blockquote>
<h2 id="BERT模型"><a href="#BERT模型" class="headerlink" title="BERT模型"></a>BERT模型</h2><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101204010581.png" alt="image-20241101204010581"></p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101204109937.png" alt="image-20241101204109937"></p>
<h1 id="用户满意度-1"><a href="#用户满意度-1" class="headerlink" title="用户满意度"></a>用户满意度</h1><h2 id="相关性"><a href="#相关性" class="headerlink" title="相关性"></a>相关性</h2><h3 id="相关性定义"><a href="#相关性定义" class="headerlink" title="相关性定义"></a>相关性定义</h3><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031154452769.png" alt="image-20241031154452769"></p>
<h3 id="相关性在实战环境下的用途"><a href="#相关性在实战环境下的用途" class="headerlink" title="相关性在实战环境下的用途"></a>相关性在实战环境下的用途</h3><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031154921441.png" alt="image-20241031154921441"></p>
<h2 id="内容质量"><a href="#内容质量" class="headerlink" title="内容质量"></a>内容质量</h2><h3 id="EAT"><a href="#EAT" class="headerlink" title="EAT"></a>EAT</h3><blockquote>
<p>EAT是一种指标。并且注意，虽然EAT是专业性（Expertise）、权威性（Authoritativeness）、可信赖（Trustworthiness）三个单词的首字母缩写，但是在业界一般直接以<code>权威性</code>称呼</p>
</blockquote>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031155114931.png" alt="image-20241031155114931"></p>
<p>此外在对一些特定主题（一些严肃且重要的主题），搜索引擎排序应该给予EAT分数很高的权重，这些特定的主题在英文术语里被称为<code>your money or your life</code>，具体如下</p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031155835552.png" alt="image-20241031155835552"></p>
<blockquote>
<p>举个例子，你搜国家政策，搜索引擎就应该把相关政府网站排在最前面，而不是一些民间机构或组织的站点，不然搜索结果就乱套了，从而会引发社会问题。</p>
</blockquote>
<h3 id="文本质量"><a href="#文本质量" class="headerlink" title="文本质量"></a>文本质量</h3><blockquote>
<p>EAT针对的是作者和网站，而文本质量针对的是文档本身</p>
</blockquote>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031160139789.png" alt="image-20241031160139789"></p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031160224389.png" alt="image-20241031160224389"></p>
<blockquote>
<p>这里提一点，标题党、图文不一致、虚假引流标签、堆砌关键词等方法，都是为了欺骗搜索引擎以吸引到流量，这些都是负向的信号，这样的文档应当被判定为低质量而被搜索引擎打压。</p>
</blockquote>
<p>文本质量还有几个关键的点，如下：</p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031160747920.png" alt="image-20241031160747920"></p>
<p>训练模型的数据是人工标注的，比如先将文本质量分成高、中、低三个档位，然后让人工做标注，给每篇文章一个档位（类似于老师批作文）。有数据之后就可以训练模型了，通常来说模型要先做预训练，然后再用人工标注的模型做翻训，人工标注的数据可多可少（几万或者十几万的数据也能把模型训练好）。</p>
<h3 id="图片质量（视频质量）"><a href="#图片质量（视频质量）" class="headerlink" title="图片质量（视频质量）"></a>图片质量（视频质量）</h3><blockquote>
<p>除了文本质量，有些搜索引擎还会用到图片质量（视频质量）</p>
</blockquote>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031161625100.png" alt="image-20241031161625100"></p>
<blockquote>
<p>还是再强调一下，内容质量不是一个分数而是很多分数，比如上面提到的EAT、文字质量、文章意图、图文一致性等等各自都是一个分数，在搜索排序阶段会使用所有内容质量分数，让质量高的文档更容易排在前面。</p>
</blockquote>
<h2 id="时效性"><a href="#时效性" class="headerlink" title="时效性"></a>时效性</h2><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031162209148.png" alt="image-20241031162209148"></p>
<p>==文档的时效性在排序中起的作用取决于查询词==，查询词对时效的需求越强，那么文档年龄的权重就越大</p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031163015091.png" alt="image-20241031163015091"></p>
<blockquote>
<p>此外还要注意，查询词有很多种意图，包括时效性意图、地域性意图等</p>
</blockquote>
<h3 id="突发时效性"><a href="#突发时效性" class="headerlink" title="突发时效性"></a>突发时效性</h3><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031164018482.png" alt="image-20241031164018482"></p>
<p>这里说一下，对于抖音、小红书、微博等平台，可以挖掘站内发布量激增的关键词，如果某个关键词的数量激增，则一定是发生了相关的事件，系统会判定这个关键词带有突发失效性。</p>
<p>再思考一个问题，为什么要采用数据挖掘的识别方法，而不是使用自然语言模型（路BERT、GPT等）？</p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031164857500.png" alt="image-20241031164857500"></p>
<blockquote>
<p>对于突发时效性这个问题，人判断不好，模型同样判断不好。所以不能用模型，只能通过数据挖掘来判断突发时效性。</p>
</blockquote>
<h3 id="一般时效性"><a href="#一般时效性" class="headerlink" title="一般时效性"></a>一般时效性</h3><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031170117028.png" alt="image-20241031170117028"></p>
<blockquote>
<p>这里要注意，每家公司都有自己的分档标准，用来指导标注员标数据。也可以看到，对于一般时效性，用模型也能判断好，而不需要使用数据挖掘</p>
</blockquote>
<h3 id="周期时效性"><a href="#周期时效性" class="headerlink" title="周期时效性"></a>周期时效性</h3><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031170840138.png" alt="image-20241031170840138"></p>
<blockquote>
<p>虽然可以不对周期时效性进行处理（识别），但是如果不识别周期时效性，速度可能会慢半拍，还有可能被算法遗漏掉。</p>
</blockquote>
<h2 id="个性化"><a href="#个性化" class="headerlink" title="个性化"></a>个性化</h2><p>搜索引擎的个性化类似于推荐系统（可以做到千人千面）。==在移动端的APP，搜索引擎一般都带有个性化，因为移动端的APP用户一般都会登录，那么APP可以记录用户历史上的行为，从而知道用户的偏好，在排序的时候，搜索引擎会根据用户的偏好，让结果带有个性化==。</p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031172951291.png" alt="image-20241031172951291"></p>
<p>这里详细讲讲搜索引擎是怎么做到个性化的：搜索排序阶段，会使用模型预估点击率和交互率，用预估值来衡量用户对文档的偏好，预估点击率和交互率的模型与推荐系统的几乎一模一样，推荐系统排序所用到的技术在搜索引擎中也几乎全都适用。预估点击率和交互率的值越大说明用户对文档越感兴趣。</p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241031221912413.png" alt="image-20241031221912413"></p>
<blockquote>
<p>总之不管做不做个性化，搜索排序都会预估点击率和交互率</p>
</blockquote>
<h1 id="搜索引擎的评价指标"><a href="#搜索引擎的评价指标" class="headerlink" title="搜索引擎的评价指标"></a>搜索引擎的评价指标</h1><blockquote>
<p>想要让搜索引擎变得更好，首先就要定义什么是更好</p>
</blockquote>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101083702698.png" alt="image-20241101083702698"></p>
<p>需要注意的是，对于某些垂类搜索引擎来说<code>北极星指标</code>会有所区别，比如电商搜索引擎可能还会增加<code>商品交易总额</code>这项。</p>
<p>==直接提升北极星指标难度是比较大的，所以搜索引擎会用一些中间指标来牵引技术和产品的迭代优化，中间指标相比北极星指标更容易提升，并且和北极星正相关==。</p>
<h2 id="北极星指标：用户规模-amp-用户留存"><a href="#北极星指标：用户规模-amp-用户留存" class="headerlink" title="北极星指标：用户规模&amp;用户留存"></a>北极星指标：用户规模&amp;用户留存</h2><p>北极星指标又称核心指标。</p>
<h3 id="用户规模"><a href="#用户规模" class="headerlink" title="用户规模"></a>用户规模</h3><p>用户规模主要以日活用户数来衡量（也可以月活用户数）。</p>
<p>像百度、抖音、小红书、淘宝等应用，既有搜索又有推荐（即用户规模的增长可能不是搜索带来而是推荐带来的），这种情况下需要把单独的功能拿出来考察，分别看搜索日活和推荐日活。</p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101084348686.png" alt="image-20241101084348686"></p>
<p>除了上面说到的日活用户数、搜索日活、推荐日活等指标，还有一些其他的指标，如下</p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101084832094.png" alt="image-20241101084832094"></p>
<h3 id="用户留存"><a href="#用户留存" class="headerlink" title="用户留存"></a>用户留存</h3><h4 id="次n留"><a href="#次n留" class="headerlink" title="次n留"></a>次n留</h4><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101085032263.png" alt="image-20241101085032263"></p>
<blockquote>
<p>如果一个APP有多个功能，可以把每个功能单独拆出来看留存指标，即APP次n留、搜索次n留、推荐次n留</p>
</blockquote>
<p>举一个次7留的例子，如下</p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101085110861.png" alt="image-20241101085110861"></p>
<h2 id="中间指标：点击等行为"><a href="#中间指标：点击等行为" class="headerlink" title="中间指标：点击等行为"></a>中间指标：点击等行为</h2><p>中间指标主要基于用户的点击行为，很容易在A/B测试中反映出来。</p>
<h3 id="首点位置"><a href="#首点位置" class="headerlink" title="首点位置"></a>首点位置</h3><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101090508447.png" alt="image-20241101090508447"></p>
<blockquote>
<p>首点位置和首屏有点比其实是一个道理，都能反映搜索排序做到好不好。</p>
</blockquote>
<h3 id="主动换词率"><a href="#主动换词率" class="headerlink" title="主动换词率"></a>主动换词率</h3><p>主动换词率高是一件坏事。</p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101090900783.png" alt="image-20241101090900783"></p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101090955085.png" alt="image-20241101090955085"></p>
<h3 id="交互指标"><a href="#交互指标" class="headerlink" title="交互指标"></a>交互指标</h3><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101091156587.png" alt="image-20241101091156587"></p>
<h2 id="为什么更关注中间指标而不是北极星指标？"><a href="#为什么更关注中间指标而不是北极星指标？" class="headerlink" title="为什么更关注中间指标而不是北极星指标？"></a>为什么更关注中间指标而不是北极星指标？</h2><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101091531474.png" alt="image-20241101091531474"></p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101112301972.png" alt="image-20241101112301972"></p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101112220144.png" alt="image-20241101112220144"></p>
<h2 id="人工体验评估"><a href="#人工体验评估" class="headerlink" title="人工体验评估"></a>人工体验评估</h2><p>人工评估其实存在很多确定，所以争议比较大。</p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101112403394.png" alt="image-20241101112403394"></p>
<h3 id="Side-by-Side评估"><a href="#Side-by-Side评估" class="headerlink" title="Side by Side评估"></a>Side by Side评估</h3><blockquote>
<p>目前（2024.5.11），百度使用是Side by Side评估，而小红书这类强个性化的搜索引擎不使用也不适用这套评估</p>
</blockquote>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101105112011.png" alt="image-20241101105112011"></p>
<blockquote>
<p>场景包括时间、地点、手机型号等信息</p>
</blockquote>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101105153185.png" alt="image-20241101105153185"></p>
<blockquote>
<p>盲评，指的是标注员并不知道哪个是新策略哪个是旧策略，这样就不会受到主观因素的影响</p>
</blockquote>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101105627453.png" alt="image-20241101105627453"></p>
<p>下面再展示一下标注员看到的界面信息，类似下图：</p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101105929446.png" alt="image-20241101105929446"><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101105947836.png" alt="image-20241101105947836"><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101105958386.png" alt="image-20241101105958386"></p>
<h3 id="月度评估"><a href="#月度评估" class="headerlink" title="月度评估"></a>月度评估</h3><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101110323611.png" alt="image-20241101110323611"><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101110340628.png" alt="image-20241101110340628"></p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101110609467.png" alt="image-20241101110609467"></p>
<p>搜索结果越好DCG就越大，==一个DCG分数是对一个搜索结果页整体的评价==，所以后面要取均值来作为月度评估的结果。</p>
<p>自我对比，公司可以用DCG分数来考察搜索团队有没有让用户体验变好。</p>
<p>竟对对比，就是和竞争对手做对比。</p>
<h3 id="Side-by-Side评估和月度评估的对比"><a href="#Side-by-Side评估和月度评估的对比" class="headerlink" title="Side by Side评估和月度评估的对比"></a><code>Side by Side评估</code>和<code>月度评估</code>的对比</h3><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101113017591.png" alt="image-20241101113017591"></p>
<h1 id="搜索引擎的链路"><a href="#搜索引擎的链路" class="headerlink" title="搜索引擎的链路"></a>搜索引擎的链路</h1><p>先看一下搜索引擎的链路图，如下：</p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101143754561.png" alt="image-20241101143754561"></p>
<h2 id="查询词处理"><a href="#查询词处理" class="headerlink" title="查询词处理"></a>查询词处理</h2><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101144212040.png" alt="image-20241101144212040"></p>
<p>查询词处理的重要性其实不高，只要有分词就可以做文本召回，搜索引擎就能勉强工作了（如果用向量召回甚至连分词都不需要）。词权重、类目识别、意图识别、改写这些功能都是为了让搜索引擎效果更好，而不是必不可少的。</p>
<p>下面介绍查询词处理中的几个模块。</p>
<h3 id="分词"><a href="#分词" class="headerlink" title="分词"></a>分词</h3><blockquote>
<p>对于中文搜索引擎，查询中必不可少的模块就是分词</p>
</blockquote>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101144734307.png" alt="image-20241101144734307"></p>
<h3 id="词权重"><a href="#词权重" class="headerlink" title="词权重"></a>词权重</h3><blockquote>
<p>词权重不是必要的，但是对搜索引擎很有用</p>
</blockquote>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101145115923.png" alt="image-20241101145115923"></p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101145156030.png" alt="image-20241101145156030"></p>
<h3 id="类目识别"><a href="#类目识别" class="headerlink" title="类目识别"></a>类目识别</h3><blockquote>
<p>一个平台大约有几十个一级类目，几百个二级类目，甚至还会细分出三级类目</p>
</blockquote>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101145712060.png" alt="image-20241101145712060"></p>
<h3 id="意图识别"><a href="#意图识别" class="headerlink" title="意图识别"></a>意图识别</h3><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101145848023.png" alt="image-20241101145848023"></p>
<blockquote>
<p>注意，这里只是列举出了四种查询词意图，其实还有很多其他意图。并且一条查询还可以带有多种意图。</p>
</blockquote>
<h3 id="改写"><a href="#改写" class="headerlink" title="改写"></a>改写</h3><p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101171909219.png" alt="image-20241101171909219"></p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101172010923.png" alt="image-20241101172010923"></p>
<h2 id="召回（Retrieval）"><a href="#召回（Retrieval）" class="headerlink" title="召回（Retrieval）"></a>召回（Retrieval）</h2><blockquote>
<p>召回通道不是一条，一般有二三十条，每条召回通道都有自己的配额（比如召回1000条数据、召回3000条数据等）。文本召回和向量召回是搜索引擎最重要的召回通道，当然，还会有一些其他的召回通道作为补充。</p>
<p>召回的量一般很大（大约有几万篇文档），在做初步筛选后，会传递给排序（大约传递几千篇文档）。</p>
</blockquote>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101175728187.png" alt="image-20241101175728187"></p>
<h3 id="文本召回"><a href="#文本召回" class="headerlink" title="文本召回"></a>文本召回</h3><p>文本召回就是最简单的文本匹配，文本召回是最传统的搜索引擎技术，在深度学习成熟之前搜索引擎几乎只有文本召回。</p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101180611592.png" alt="image-20241101180611592"></p>
<p>这里简单讲一下倒排索引，如下</p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101180851991.png" alt="image-20241101180851991"></p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101180926148.png" alt="image-20241101180926148"></p>
<p>在倒排索引中，有一个概念叫term（词项），具体如下</p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101182858239.png" alt="image-20241101182858239"></p>
<p>下面用一个示意图加深文本召回的理解：</p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101181201842.png" alt="image-20241101181201842"></p>
<h3 id="向量召回"><a href="#向量召回" class="headerlink" title="向量召回"></a>向量召回</h3><blockquote>
<p>最近几年（2024.5.11）向量召回的重要性已经超过文本召回。</p>
</blockquote>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101184056088.png" alt="image-20241101184056088"></p>
<blockquote>
<p>如上示意图，使用的就是双塔模型，主要就是通过向量相似度来进行查找从而实现召回</p>
</blockquote>
<p>简单介绍一下双塔模型，如下：</p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101184326993.png" alt="image-20241101184326993"></p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101184432360.png" alt="image-20241101184432360"></p>
<h3 id="KV召回"><a href="#KV召回" class="headerlink" title="KV召回"></a>KV召回</h3><blockquote>
<p>KV召回的基本逻辑就是先建立一个离线的索引（可以拿来直接用的那种），然后使用这个索引完成召回。</p>
</blockquote>
<p>KV召回中的K指的是高频查询词（来源于用户真实搜过的查询词，在过去某段时间搜索次数高于某个阈值时就会被收录），V指的是文档列表。由于这个离线的索引已经做过筛选，所以这个索引中的K和V具有高相关性，当用户检索的查询词是个高频查询词就会命中索引，该查询词下对应的文档就会被召回。</p>
<p>KV召回的效率很高，且召回的文档几乎都和查询词具有高相关性。</p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101201910040.png" alt="image-20241101201910040"></p>
<h2 id="排序-Ranking"><a href="#排序-Ranking" class="headerlink" title="排序(Ranking)"></a>排序(Ranking)</h2><p>排序有可能会分为粗排和精排两阶段，原理基本相同，区别只是用的模型不同。</p>
<p>搜索排序需要用多个模型计算多种分数，具体有以下几点：</p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101205212825.png" alt="image-20241101205212825"></p>
<blockquote>
<p>相关性是最重要且消耗算力最多的，可以说搜索排序大半的算力都花在了相关性上。</p>
<p>对于相关性的计算，使用多大的模型取决于算力有多充足，每家公司都不一样（4层、6层、12层的都有）。</p>
</blockquote>
<p>下面用一幅图对搜索排序的原理做一个说明：</p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101205520814.png" alt="image-20241101205520814"></p>
<blockquote>
<p>这里提一点，内容质量是在文档发布的时候用不同的模型和规则计算出来的，存储在文档的画像中</p>
</blockquote>
<p>搜索排序的第一个阶段就是打分，即计算或收集相关性、个性化、内容质量、时效性等分数，得到分数后进行融合，融合可以使用规则或LTR模型，==融合得到的分数基本上决定了搜索结果页上文档的排序==，得到融合分数后还会对文档的顺序做小幅的调整（即重排），最后展示搜索排序的结果。</p>
<p><img src="/2024/10/31/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E6%9C%AF/image-20241101210141987.png" alt="image-20241101210141987"></p>
	  
	</div>

	<div>
  	<center>
	<div class="pagination">

    
    
    <a href="/2024/11/02/推荐系统/" type="button" class="btn btn-default"><i
                class="fa fa-arrow-circle-o-left"></i> Prev</a>
    

    <a href="/" type="button" class="btn btn-default"><i class="fa fa-home"></i>Home</a>
    
    <a href="/2024/10/09/编码方式/" type="button" class="btn btn-default ">Next<i
                class="fa fa-arrow-circle-o-right"></i></a>
    

    
</div>

    </center>
	</div>
	
	<!-- comment -->
	
<section id="comment">
    <h2 class="title">Comments</h2>

    
</section>


	</div> <!-- col-md-9/col-md-12 -->
		
	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2024-10-31 
	</div>
	

	<!-- categories -->
    

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/tags/搜索引擎/">搜索引擎<span>2</span></a></li>
    </ul>
	</div>
		

	<!-- toc -->
	<div class="meta-widget">
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	</div>
		

</div><!-- row -->





	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2025 Jici
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a>    
</p>

  <script src='https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js'></script>
  <script>
    if (window.mermaid) {
      mermaid.initialize({theme: 'forest'});
    }
  </script>



<span class="post-meta-divider">|</span>
本站总访问量&nbsp;<span id="busuanzi_value_site_pv"></span>&nbsp;次</span>

<script>
var bszCaller,bszTag;!function(){var c,d,e,a=!1,b=[];ready=function(c){return a||"interactive"===document.readyState||"complete"===document.readyState?c.call(document):b.push(function(){return c.call(this)}),this},d=function(){for(var a=0,c=b.length;c>a;a++)b[a].apply(document);b=[]},e=function(){a||(a=!0,d.call(window),document.removeEventListener?document.removeEventListener("DOMContentLoaded",e,!1):document.attachEvent&&(document.detachEvent("onreadystatechange",e),window==window.top&&(clearInterval(c),c=null)))},document.addEventListener?document.addEventListener("DOMContentLoaded",e,!1):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){/loaded|complete/.test(document.readyState)&&e()}),window==window.top&&(c=setInterval(function(){try{a||document.documentElement.doScroll("left")}catch(b){return}e()},5)))}(),bszCaller={fetch:function(a,b){var c="BusuanziCallback_"+Math.floor(1099511627776*Math.random());window[c]=this.evalCall(b),a=a.replace("=BusuanziCallback","="+c),scriptTag=document.createElement("SCRIPT"),scriptTag.type="text/javascript",scriptTag.defer=!0,scriptTag.src=a,scriptTag.referrerPolicy="no-referrer-when-downgrade",document.getElementsByTagName("HEAD")[0].appendChild(scriptTag)},evalCall:function(a){return function(b){ready(function(){try{a(b),scriptTag.parentElement.removeChild(scriptTag)}catch(c){bszTag.hides()}})}}},bszCaller.fetch("//busuanzi.ibruce.info/busuanzi?jsonpCallback=BusuanziCallback",function(a){bszTag.texts(a),bszTag.shows()}),bszTag={bszs:["site_pv","page_pv","site_uv"],texts:function(a){this.bszs.map(function(b){var c=document.getElementById("busuanzi_value_"+b);c&&(c.innerHTML=a[b])})},hides:function(){this.bszs.map(function(a){var b=document.getElementById("busuanzi_container_"+a);b&&(b.style.display="none")})},shows:function(){this.bszs.map(function(a){var b=document.getElementById("busuanzi_container_"+a);b&&(b.style.display="inline")})}};
</script>


<!-- <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<span class="post-meta-divider">|</span>
<span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
<span class="post-meta-divider">|</span>
<span id="busuanzi_container_site_uv">本站访客数<span id="busuanzi_value_site_uv"></span>人</span> -->


<div>
<span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
<script>
    var now = new Date(); 
    function createtime() { 
        var grt= new Date("08/12/2023 00:00:00");//在此处修改你的建站时间
        now.setTime(now.getTime()+250); 
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
        document.getElementById("timeDate").innerHTML = "本站已勉强运行 "+dnum+" 天 "; 
        document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒"; 
    } 
    setInterval("createtime()",250);
</script>
<br><br>
<span class="num">及辞已经在本站记录了 182.2k 字</span>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    fetch('/imageCount.json')
      .then(response => response.json())
      .then(data => {
        const imageCount = data.count;
        const imageCountElement = document.getElementById('imageCount');
        imageCountElement.textContent = `共计收录了 ${imageCount} 张图片`;
      })
      .catch(error => {
        console.error('Failed to load image count:', error);
      });
  });
</script>
<br><br>
<span id="imageCount">正在加载图片数目...</span>
</div> </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>⬆︎TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<!-- hexo injector body_end start --><script src="/assets/mmedia/mmedia-loader.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/ni-j.model.json"},"display":{"position":"left","width":260,"height":300},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
   </html>

<!-- 雪花特效 -->
<!-- 直接引用公网CDN在线文件 -->
<!-- <script src="https://cdn.jsdelivr.net/gh/wallleap/cdn/js/xuehuapiaoluo.js">-->
<!-- 引用本地文件 -->
<!--<script type="text/javascript" src="\js\snow.js"></script>-->

<!-- 樱花花特效 -->
<!-- 直接引用公网CDN在线文件 -->
<!--<script src="https://cdn.jsdelivr.net/gh/wallleap/cdn/js/sakura.js"></script>-->
<!-- 引用本地文件 -->
<script type="text/javascript" src="\js\sakura.js"></script>


<!-- 数字雨 
<canvas id="canvas" width="1440" height="900" ></canvas>
<script type="text/javascript" src="/js/DigitalRain.js"></script>-->

<!--单击显示文字-->
<script type="text/javascript" src="/js/click_show_text.js"></script>

<!--图片预加载-->
<script src="//instant.page/3.0.0" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>

<!--字体真棒图标-->
<script type="text/javascript" src="/js/fontawesome_715cc194ca.js"></script>
